<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://img.icons8.com/?size=512&id=50Wzitl9nm34&format=png" type="image/png">
    <title>Algebra Function Calculator</title>
    <style>
        :root {
            --primary: #3b82f6;
            --primary-light: #93c5fd;
            --primary-dark: #1d4ed8;
            --secondary: #64748b;
            --background: #f8fafc;
            --card-bg: #ffffff;
            --border: #e2e8f0;
            --text: #334155;
            --success: #10b981;
            --error: #ef4444;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: var(--text);
            background-color: var(--background);
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .header h1 {
            font-size: 2rem;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .tab {
            padding: 0.75rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        .tab:hover {
            border-color: var(--primary-light);
        }
        .tab.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .tab-content {
            display: none;
            background-color: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .tab-content.active {
            display: block;
        }
        .section-title {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.5rem;
        }
        .input-group {
            margin-bottom: 1rem;
        }
        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .input-field {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: 0.25rem;
            font-size: 1rem;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
        }
        .btn:hover {
            background-color: var(--primary-dark);
        }
        .results {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--background);
            border-radius: 0.5rem;
            border: 1px solid var(--border);
        }
        .hidden {
            display: none;
        }
        .table-input {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        .table-input th, .table-input td {
            border: 1px solid var(--border);
            padding: 0.5rem;
            text-align: center;
        }
        .table-input input {
            width: 60px;
            padding: 0.25rem;
            text-align: center;
            border: 1px solid var(--border);
            border-radius: 0.25rem;
        }
        .info-box {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #f0f9ff;
            border-left: 4px solid var(--primary);
            border-radius: 0.25rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Algebra Function Calculator</h1>
            <p>Explore different types of functions, transformations, domains, ranges, and characteristics</p>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="identify">Identify Functions</div>
            <div class="tab" data-tab="transform">Transformations</div>
            <div class="tab" data-tab="domain-range">Domain & Range</div>
            <div class="tab" data-tab="characteristics">Characteristics</div>
        </div>
        
        <div class="tab-content active" id="identify">
            <div class="section-title">Identify Linear, Quadratic, and Exponential Functions</div>
            
            <table class="table-input">
                <thead>
                    <tr>
                        <th>x</th>
                        <th><input type="number" id="x1" value="0"></th>
                        <th><input type="number" id="x2" value="1"></th>
                        <th><input type="number" id="x3" value="2"></th>
                        <th><input type="number" id="x4" value="3"></th>
                        <th><input type="number" id="x5" value="4"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>y</th>
                        <td><input type="number" id="y1" value="1"></td>
                        <td><input type="number" id="y2" value="2"></td>
                        <td><input type="number" id="y3" value="4"></td>
                        <td><input type="number" id="y4" value="8"></td>
                        <td><input type="number" id="y5" value="16"></td>
                    </tr>
                </tbody>
            </table>
            
            <button id="identify-btn" class="btn">Identify Function</button>
            
            <div class="results hidden" id="identify-results">
                <h3>Results:</h3>
                <p id="function-type"></p>
                <p id="function-equation"></p>
                <div id="function-explanation"></div>
            </div>
        </div>
        
        <div class="tab-content" id="transform">
            <div class="section-title">Transformations of Quadratic Functions</div>
            
            <div class="input-group">
                <div class="input-label">Base Function: f(x) = a(x-h)² + k</div>
                
                <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                    <div>
                        <label for="param-a">a:</label>
                        <input type="number" id="param-a" class="input-field" value="1" step="0.1">
                    </div>
                    <div>
                        <label for="param-h">h:</label>
                        <input type="number" id="param-h" class="input-field" value="0">
                    </div>
                    <div>
                        <label for="param-k">k:</label>
                        <input type="number" id="param-k" class="input-field" value="0">
                    </div>
                </div>
            </div>
            
            <button id="transform-btn" class="btn">Show Transformation</button>
            
            <div class="results hidden" id="transform-results">
                <h3>Transformation Results:</h3>
                <p id="transform-equation"></p>
                <p id="vertex-point"></p>
                <p id="transform-effects"></p>
                <div id="graph-container" style="width: 100%; height: 300px; border: 1px solid var(--border); border-radius: 0.5rem;"></div>
            </div>
        </div>
        
        <div class="tab-content" id="domain-range">
            <div class="section-title">Domain and Range of Quadratic Functions</div>
            
            <div class="input-group">
                <div class="input-label">Enter Quadratic Function:</div>
                <div style="display: flex; gap: 0.5rem; align-items: center;">
                    <span>f(x) = </span>
                    <input type="number" id="domain-a" class="input-field" value="1" style="width: 60px;">
                    <span>x² + </span>
                    <input type="number" id="domain-b" class="input-field" value="0" style="width: 60px;">
                    <span>x + </span>
                    <input type="number" id="domain-c" class="input-field" value="0" style="width: 60px;">
                </div>
            </div>
            
            <button id="domain-btn" class="btn">Calculate Domain & Range</button>
            
            <div class="results hidden" id="domain-results">
                <h3>Domain and Range Results:</h3>
                <p id="domain-equation"></p>
                <p id="domain-value"></p>
                <p id="range-value"></p>
                <p id="vertex-value"></p>
                <p id="axis-symmetry"></p>
                <div id="domain-graph-container" style="width: 100%; height: 300px; border: 1px solid var(--border); border-radius: 0.5rem;"></div>
            </div>
        </div>
        
        <div class="tab-content" id="characteristics">
            <div class="section-title">Characteristics of Quadratic Functions</div>
            
            <div class="input-group">
                <div class="input-label">Enter Quadratic Function:</div>
                <div style="display: flex; gap: 0.5rem; align-items: center;">
                    <span>f(x) = </span>
                    <input type="number" id="char-a" class="input-field" value="1" style="width: 60px;">
                    <span>x² + </span>
                    <input type="number" id="char-b" class="input-field" value="0" style="width: 60px;">
                    <span>x + </span>
                    <input type="number" id="char-c" class="input-field" value="0" style="width: 60px;">
                </div>
            </div>
            
            <button id="char-btn" class="btn">Analyze Characteristics</button>
            
            <div class="results hidden" id="char-results">
                <h3>Function Characteristics:</h3>
                <div id="char-equation"></div>
                <div id="char-vertex"></div>
                <div id="char-direction"></div>
                <div id="char-intercepts"></div>
                <div id="char-domain"></div>
                <div id="char-range"></div>
                <div id="char-graph-container" style="width: 100%; height: 300px; border: 1px solid var(--border); border-radius: 0.5rem; margin-top: 1.5rem;"></div>
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        setupTabs();
        document.getElementById('identify-btn').addEventListener('click', identifyFunction);
        document.getElementById('transform-btn').addEventListener('click', showTransformation);
        document.getElementById('domain-btn').addEventListener('click', calculateDomainRange);
        document.getElementById('char-btn').addEventListener('click', analyzeCharacteristics);
    });

    function setupTabs() {
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
    }

    function drawGraph(container, func, points = [], highlightVertex = false, vertex = null) {
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('width', '100%');
        svg.setAttribute('height', '100%');
        svg.setAttribute('viewBox', '-10 -10 20 20');
        container.innerHTML = '';
        container.appendChild(svg);
        
        for (let i = -9; i <= 9; i++) {
            if (i === 0) continue;
            const vLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            vLine.setAttribute('x1', i);
            vLine.setAttribute('y1', -10);
            vLine.setAttribute('x2', i);
            vLine.setAttribute('y2', 10);
            vLine.setAttribute('stroke', '#e2e8f0');
            vLine.setAttribute('stroke-width', '0.05');
            svg.appendChild(vLine);
            
            const hLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            hLine.setAttribute('x1', -10);
            hLine.setAttribute('y1', i);
            hLine.setAttribute('x2', 10);
            hLine.setAttribute('y2', i);
            hLine.setAttribute('stroke', '#e2e8f0');
            hLine.setAttribute('stroke-width', '0.05');
            svg.appendChild(hLine);
        }
        
        const xAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        xAxis.setAttribute('x1', -10);
        xAxis.setAttribute('y1', 0);
        xAxis.setAttribute('x2', 10);
        xAxis.setAttribute('y2', 0);
        xAxis.setAttribute('stroke', '#334155');
        xAxis.setAttribute('stroke-width', '0.1');
        svg.appendChild(xAxis);
        
        const yAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        yAxis.setAttribute('x1', 0);
        yAxis.setAttribute('y1', -10);
        yAxis.setAttribute('x2', 0);
        yAxis.setAttribute('y2', 10);
        yAxis.setAttribute('stroke', '#334155');
        yAxis.setAttribute('stroke-width', '0.1');
        svg.appendChild(yAxis);
        
        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        let d = 'M';
        let first = true;
        
        for (let x = -10; x <= 10; x += 0.1) {
            const y = func(x);
            if (y >= -10 && y <= 10) {
                if (first) {
                    d += `${x},${-y}`;
                    first = false;
                } else {
                    d += ` L${x},${-y}`;
                }
            }
        }
        
        path.setAttribute('d', d);
        path.setAttribute('stroke', '#3b82f6');
        path.setAttribute('stroke-width', '0.2');
        path.setAttribute('fill', 'none');
        svg.appendChild(path);
        
        if (highlightVertex && vertex) {
            const vertexPoint = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            vertexPoint.setAttribute('cx', vertex.x);
            vertexPoint.setAttribute('cy', -vertex.y);
            vertexPoint.setAttribute('r', '0.2');
            vertexPoint.setAttribute('fill', '#10b981');
            svg.appendChild(vertexPoint);
        }
        
        return svg;
    }

    function identifyFunction() {
        const x = [], y = [];
        for (let i = 1; i <= 5; i++) {
            const xVal = parseFloat(document.getElementById(`x${i}`).value);
            const yVal = parseFloat(document.getElementById(`y${i}`).value);
            if (!isNaN(xVal) && !isNaN(yVal)) {
                x.push(xVal);
                y.push(yVal);
            }
        }
        
        if (x.length < 3) {
            alert("Please enter at least 3 valid points.");
            return;
        }
        
        const diffs1 = [];
        const diffs2 = [];
        const ratios = [];
        
        for (let i = 1; i < y.length; i++) {
            diffs1.push(y[i] - y[i-1]);
            if (y[i-1] !== 0) ratios.push(y[i] / y[i-1]);
        }
        
        for (let i = 1; i < diffs1.length; i++) {
            diffs2.push(diffs1[i] - diffs1[i-1]);
        }
        
        const isLinear = diffs1.every(d => Math.abs(d - diffs1[0]) < 0.0001);
        const isQuadratic = !isLinear && diffs2.length > 0 && diffs2.every(d => Math.abs(d - diffs2[0]) < 0.0001);
        const isExponential = !isLinear && !isQuadratic && ratios.length > 0 && ratios.every(r => Math.abs(r - ratios[0]) < 0.0001);
        
        let type, equation, explanation;
        
        if (isLinear) {
            const m = diffs1[0] / (x[1] - x[0]);
            const b = y[0] - m * x[0];
            type = "Linear";
            equation = `f(x) = ${m.toFixed(2)}x ${b >= 0 ? '+ ' + b.toFixed(2) : '- ' + Math.abs(b).toFixed(2)}`;
            explanation = `<p>This is a linear function with constant first differences (${diffs1[0]}).</p>`;
        } else if (isQuadratic) {
            const x1 = x[0], y1 = y[0];
            const x2 = x[1], y2 = y[1];
            const x3 = x[2], y3 = y[2];
            
            const denom = (x1-x2)*(x1-x3)*(x2-x3);
            const a = ((y1*(x2-x3) + y2*(x3-x1) + y3*(x1-x2)) / denom);
            const b = ((y1*(x3*x3-x2*x2) + y2*(x1*x1-x3*x3) + y3*(x2*x2-x1*x1)) / denom);
            const c = ((y1*x2*x3*(x2-x3) + y2*x1*x3*(x3-x1) + y3*x1*x2*(x1-x2)) / denom);
            
            type = "Quadratic";
            equation = `f(x) = ${a.toFixed(2)}x² ${b >= 0 ? '+ ' + b.toFixed(2) : '- ' + Math.abs(b).toFixed(2)}x ${c >= 0 ? '+ ' + c.toFixed(2) : '- ' + Math.abs(c).toFixed(2)}`;
            explanation = `<p>This is a quadratic function with constant second differences (${diffs2[0].toFixed(2)}).</p>`;
        } else if (isExponential) {
            const r = ratios[0];
            const a = y[0] / Math.pow(r, x[0]);
            
            type = "Exponential";
            equation = `f(x) = ${a.toFixed(2)} × ${r.toFixed(2)}^x`;
            explanation = `<p>This is an exponential function with constant ratio (${r.toFixed(2)}).</p>`;
        } else {
            type = "Unknown";
            equation = "Cannot determine a function type";
            explanation = "<p>The data doesn't fit linear, quadratic, or exponential patterns.</p>";
        }
        
        document.getElementById('function-type').textContent = `Function Type: ${type}`;
        document.getElementById('function-equation').textContent = `Equation: ${equation}`;
        document.getElementById('function-explanation').innerHTML = explanation;
        document.getElementById('identify-results').classList.remove('hidden');
    }

    function showTransformation() {
        const a = parseFloat(document.getElementById('param-a').value);
        const h = parseFloat(document.getElementById('param-h').value);
        const k = parseFloat(document.getElementById('param-k').value);
        
        if (isNaN(a) || isNaN(h) || isNaN(k)) {
            alert("Please enter valid numbers for a, h, and k.");
            return;
        }
        
        const vertexForm = `f(x) = ${a}(x ${h >= 0 ? '- ' + h : '+ ' + Math.abs(h)})² ${k >= 0 ? '+ ' + k : '- ' + Math.abs(k)}`;
        const standardForm = `f(x) = ${a}x² ${-2*a*h >= 0 ? '+ ' + (-2*a*h).toFixed(2) : '- ' + Math.abs(-2*a*h).toFixed(2)}x ${a*h*h+k >= 0 ? '+ ' + (a*h*h+k).toFixed(2) : '- ' + Math.abs(a*h*h+k).toFixed(2)}`;
        
        let effects = `<p>Opens ${a > 0 ? 'upward' : 'downward'}, `;
        if (Math.abs(a) !== 1) effects += `vertically ${Math.abs(a) > 1 ? 'stretched' : 'compressed'} by ${Math.abs(a)}, `;
        if (h !== 0) effects += `shifted ${h > 0 ? 'right' : 'left'} by ${Math.abs(h)}, `;
        if (k !== 0) effects += `shifted ${k > 0 ? 'up' : 'down'} by ${Math.abs(k)}, `;
        effects = effects.slice(0, -2) + '.</p>';
        
        document.getElementById('transform-equation').innerHTML = `<p>Vertex form: ${vertexForm}</p><p>Standard form: ${standardForm}</p>`;
        document.getElementById('vertex-point').textContent = `Vertex: (${h}, ${k})`;
        document.getElementById('transform-effects').innerHTML = effects;
        
        drawGraph(
            document.getElementById('graph-container'), 
            x => a * Math.pow(x - h, 2) + k,
            [],
            true,
            { x: h, y: k }
        );
        document.getElementById('transform-results').classList.remove('hidden');
    }

    function calculateDomainRange() {
        const a = parseFloat(document.getElementById('domain-a').value);
        const b = parseFloat(document.getElementById('domain-b').value);
        const c = parseFloat(document.getElementById('domain-c').value);
        
        if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0) {
            alert("Please enter valid coefficients (a cannot be 0).");
            return;
        }
        
        const h = -b / (2 * a);
        const k = c - b * b / (4 * a);
        
        document.getElementById('domain-equation').textContent = `f(x) = ${a}x² ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x ${c >= 0 ? '+ ' + c : '- ' + Math.abs(c)}`;
        document.getElementById('domain-value').textContent = `Domain: All real numbers (ℝ)`;
        document.getElementById('range-value').textContent = a > 0 ? `Range: [${k.toFixed(2)}, ∞)` : `Range: (-∞, ${k.toFixed(2)}]`;
        document.getElementById('vertex-value').textContent = `Vertex: (${h.toFixed(2)}, ${k.toFixed(2)})`;
        document.getElementById('axis-symmetry').textContent = `Axis of Symmetry: x = ${h.toFixed(2)}`;
        
        drawGraph(
            document.getElementById('domain-graph-container'), 
            x => a * x * x + b * x + c,
            [],
            true,
            { x: h, y: k }
        );
        document.getElementById('domain-results').classList.remove('hidden');
    }

    function analyzeCharacteristics() {
        const a = parseFloat(document.getElementById('char-a').value);
        const b = parseFloat(document.getElementById('char-b').value);
        const c = parseFloat(document.getElementById('char-c').value);
        
        if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0) {
            alert("Please enter valid coefficients (a cannot be 0).");
            return;
        }
        
        const h = -b / (2 * a);
        const k = c - b * b / (4 * a);
        
        const discriminant = b * b - 4 * a * c;
        let xIntercepts = "";
        
        if (discriminant > 0) {
            const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
            const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
            xIntercepts = `x-intercepts: (${x1.toFixed(2)}, 0) and (${x2.toFixed(2)}, 0)`;
        } else if (discriminant === 0) {
            xIntercepts = `x-intercept: (${h.toFixed(2)}, 0)`;
        } else {
            xIntercepts = "No x-intercepts";
        }
        
        document.getElementById('char-equation').innerHTML = `Equation: f(x) = ${a}x² ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x ${c >= 0 ? '+ ' + c : '- ' + Math.abs(c)}`;
        document.getElementById('char-vertex').innerHTML = `Vertex: (${h.toFixed(2)}, ${k.toFixed(2)})`;
        document.getElementById('char-direction').innerHTML = `Opens: ${a > 0 ? 'Upward' : 'Downward'}`;
        document.getElementById('char-intercepts').innerHTML = `y-intercept: (0, ${c})<br>${xIntercepts}`;
        document.getElementById('char-domain').innerHTML = `Domain: All real numbers (ℝ)`;
        document.getElementById('char-range').innerHTML = a > 0 ? `Range: [${k.toFixed(2)}, ∞)` : `Range: (-∞, ${k.toFixed(2)}]`;
        
        drawGraph(
            document.getElementById('char-graph-container'), 
            x => a * x * x + b * x + c,
            [],
            true,
            { x: h, y: k }
        );
        document.getElementById('char-results').classList.remove('hidden');
    }
    </script>
</body>
</html>
