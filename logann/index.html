<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mini‑Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon updated to use the full juice box image without cropping -->
  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/attachments/1342706156048617504/1357546263897444423/juice-wrld-ereid-rucky-transparent.png?ex=67f141bb&is=67eff03b&hm=a24321250e9e64549c60b63282d9b16096d94bcbb733f5db854ce9c27c389efe&format=webp&quality=lossless">
  <style>
    :root {
      --overlayBg: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(75,0,130,0.8));
    }
    /* Global Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      background: none;
      font-family: Arial, sans-serif;
      overflow: hidden;
      cursor: default;
    }
    /* Entry Overlay (Mini‑Game) */
    #entryOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--overlayBg);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      transition: opacity 0.5s ease;
      overflow: hidden;
    }
    /* Juice Box (without straw) */
    #juiceBox {
      position: absolute;
      max-width: 365px;
      max-height: 546px;
      z-index: 2;
      opacity: 1;
    }
    /* Straw with dragging functions */
    #straw {
      position: absolute;
      width: 48px;
      height: 131px;
      bottom: 20px;
      right: 20px;
      user-select: none;
      z-index: 1010;
      transition: transform 0.3s ease;
      touch-action: none;
      pointer-events: auto;
    }
    /* Full Juice Container */
    #fullJuiceContainer {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1500;
    }
    #fullJuice {
      max-width: 365px;
      max-height: 546px;
      opacity: 0;
      transition: opacity 0.7s ease-in-out;
    }
  </style>
</head>
<body>
  <!-- Entry Overlay (Mini‑Game) -->
  <div id="entryOverlay">
    <!-- Juice Box (without straw) -->
    <img id="juiceBox" src="https://media.discordapp.net/attachments/1342706156048617504/1357555068529803325/juice-wrld-ereid-rucky-transparent_2.png?ex=67f149ee&is=67eff86e&hm=a479eacc9e6bc2a71bec0b21e2d32fa626f9b555838b22ad1165a00ff2d63af2&=&format=webp&quality=lossless" alt="Juice Box">
    <!-- Straw with dragging functions -->
    <img id="straw" draggable="false" src="https://media.discordapp.net/attachments/1342706156048617504/1357555571443896330/juice-wrld-ereid-rucky-transparent_1.png?ex=67f14a66&is=67eff8e6&hm=bfb69959038d37330dbbe81518c7f4900a4d27aaff71051dd62c8ab97665547c&=&format=webp&quality=lossless" alt="Straw">
  </div>
  <!-- Full Juice Container -->
  <div id="fullJuiceContainer">
    <img id="fullJuice" src="https://cdn.discordapp.com/attachments/1342706156048617504/1357546263897444423/juice-wrld-ereid-rucky-transparent.png?ex=67f141bb&is=67eff03b&hm=a24321250e9e64549c60b63282d9b16096d94bcbb733f5db854ce9c27c389efe&format=webp&quality=lossless" alt="Full Juice">
  </div>
  
  <script>
    // Straw dragging using mouse and touch events
    const entryOverlay = document.getElementById("entryOverlay");
    const juiceBox = document.getElementById("juiceBox");
    const straw = document.getElementById("straw");
    const fullJuiceContainer = document.getElementById("fullJuiceContainer");
    const fullJuice = document.getElementById("fullJuice");
    
    let isStrawDragging = false;
    
    straw.addEventListener('mousedown', strawStartDrag);
    straw.addEventListener('touchstart', strawStartDragTouch);
    
    function strawStartDrag(e) {
      isStrawDragging = true;
      updateStrawPosition(e.clientX, e.clientY);
      document.addEventListener('mousemove', strawDrag);
      document.addEventListener('mouseup', strawEndDrag);
      e.preventDefault();
    }
    
    function strawStartDragTouch(e) {
      isStrawDragging = true;
      const touch = e.touches[0];
      updateStrawPosition(touch.clientX, touch.clientY);
      document.addEventListener('touchmove', strawDragTouch);
      document.addEventListener('touchend', strawEndDragTouch);
      e.preventDefault();
    }
    
    function strawDrag(e) {
      if (!isStrawDragging) return;
      updateStrawPosition(e.clientX, e.clientY);
    }
    
    function strawDragTouch(e) {
      if (!isStrawDragging) return;
      const touch = e.touches[0];
      updateStrawPosition(touch.clientX, touch.clientY);
      e.preventDefault();
    }
    
    function updateStrawPosition(x, y) {
      const strawWidth = straw.offsetWidth;
      const strawHeight = straw.offsetHeight;
      straw.style.left = (x - strawWidth / 2) + "px";
      straw.style.top = (y - strawHeight / 2) + "px";
    }
    
    function strawEndDrag() {
      isStrawDragging = false;
      document.removeEventListener('mousemove', strawDrag);
      document.removeEventListener('mouseup', strawEndDrag);
      checkStrawDrop();
    }
    
    function strawEndDragTouch() {
      isStrawDragging = false;
      document.removeEventListener('touchmove', strawDragTouch);
      document.removeEventListener('touchend', strawEndDragTouch);
      checkStrawDrop();
    }
    
    function checkStrawDrop() {
      const juiceRect = juiceBox.getBoundingClientRect();
      const strawRect = straw.getBoundingClientRect();
      if (
        strawRect.right > juiceRect.left &&
        strawRect.left < juiceRect.right &&
        strawRect.bottom > juiceRect.top &&
        strawRect.top < juiceRect.bottom
      ) {
        // Successful drop: animate fade-out then reveal full juice
        juiceBox.style.transition = "opacity 0.5s ease-out";
        straw.style.transition = "opacity 0.5s ease-out";
        juiceBox.style.opacity = "0";
        straw.style.opacity = "0";
        setTimeout(() => {
          entryOverlay.style.display = "none";
          fullJuiceContainer.style.display = "block";
          fullJuice.style.opacity = "0";
          setTimeout(() => {
            fullJuice.style.opacity = "1";
          }, 50);
          setTimeout(() => {
            fullJuice.style.opacity = "0";
            setTimeout(() => {
              fullJuiceContainer.style.display = "none";
              // Mini‑game finished; load further content as desired.
            }, 700);
          }, 1500);
        }, 500);
      }
    }
  </script>
</body>
</html>
