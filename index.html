<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dazes.org Shell</title>
  <style>
    /* Global styles for the shell can go here */
    body { font-family: Arial, sans-serif; padding: 2rem; }
  </style>
</head>
<body>
  <!-- This container will receive the HTML from home.html or name.html -->
  <div id="content"></div>
  <script>
    // Hardcoded valid names.
    const names = [
      "William",
      "Brayden",
      "Vaani",
      "Maddie",
      "Bambi",
      "Logann",
      "Mikey",
      "Proxy"
    ];

    const contentDiv = document.getElementById("content");

    // A simple function to load an external HTML file.
    function loadPage(url, callback) {
      fetch(url)
        .then(response => response.text())
        .then(html => callback(html))
        .catch(err => {
          contentDiv.innerHTML = "<h1>Error loading page.</h1>";
        });
    }

    // Router function.
    function route() {
      const hash = window.location.hash.substring(1).trim();
      if (!hash) {
        // No hash present: load home.html
        loadPage("home.html", function(html) {
          contentDiv.innerHTML = html;
        });
      } else {
        // If a hash exists, check if it's a valid name.
        if (names.includes(hash)) {
          loadPage("name.html", function(html) {
            // Replace the placeholder with the actual name.
            html = html.replace(/{{NAME}}/g, hash);
            contentDiv.innerHTML = html;
          });
        } else {
          // If hash does not match, display a simple 404 message.
          contentDiv.innerHTML = `
            <h1>404</h1>
            <p>Name not found.</p>
            <p><a href="#">Back to home</a></p>
          `;
        }
      }
    }

    // Listen for changes to the hash.
    window.addEventListener("hashchange", route);
    // Run the router on initial load.
    window.addEventListener("DOMContentLoaded", route);
  </script>
</body>
</html>
